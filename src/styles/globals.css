@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  /* Existing animations enhanced */
  .animate-pop {
    animation: pop 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) both;
  }
  @keyframes pop {
    0% {
      transform: scale(0.9) translateY(10px);
      opacity: 0;
    }
    50% {
      transform: scale(1.05);
    }
    100% {
      transform: scale(1) translateY(0);
      opacity: 1;
    }
  }
  
  /* Typing cursor animation */
  .cursor-blink::after {
    content: '_';
    animation: blink 1s steps(2, start) infinite;
  }
  @keyframes blink {
    0%, 50% {
      opacity: 1;
    }
    50.01%, 100% {
      opacity: 0;
    }
  }
  
  /* New retro animations */
  .animate-slide-up {
    animation: slideUp 0.6s ease-out both;
  }
  @keyframes slideUp {
    from {
      transform: translateY(30px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
  
  .animate-typewriter {
    overflow: hidden;
    white-space: nowrap;
    animation: typewriter 3s steps(30) 0.5s 1 normal both;
  }
  @keyframes typewriter {
    from {
      width: 0;
    }
    to {
      width: 100%;
    }
  }
  
  .animate-glitch {
    position: relative;
    animation: glitch 2s infinite;
  }
  @keyframes glitch {
    0%, 100% {
      text-shadow: 0.05em 0 0 rgba(255, 0, 0, 0.75),
                  -0.05em -0.025em 0 rgba(0, 255, 0, 0.75),
                  0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
    }
    14% {
      text-shadow: 0.05em 0 0 rgba(255, 0, 0, 0.75),
                  -0.05em -0.025em 0 rgba(0, 255, 0, 0.75),
                  0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
    }
    15% {
      text-shadow: -0.05em -0.025em 0 rgba(255, 0, 0, 0.75),
                  0.025em 0.025em 0 rgba(0, 255, 0, 0.75),
                  -0.05em -0.05em 0 rgba(0, 0, 255, 0.75);
    }
    49% {
      text-shadow: -0.05em -0.025em 0 rgba(255, 0, 0, 0.75),
                  0.025em 0.025em 0 rgba(0, 255, 0, 0.75),
                  -0.05em -0.05em 0 rgba(0, 0, 255, 0.75);
    }
    50% {
      text-shadow: 0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
                  0.05em 0 0 rgba(0, 255, 0, 0.75),
                  0 -0.05em 0 rgba(0, 0, 255, 0.75);
    }
    99% {
      text-shadow: 0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
                  0.05em 0 0 rgba(0, 255, 0, 0.75),
                  0 -0.05em 0 rgba(0, 0, 255, 0.75);
    }
  }
  
  /* Retro pixel border */
  .pixel-border {
    box-shadow: 
      -4px 0 0 0 currentColor,
      4px 0 0 0 currentColor,
      0 -4px 0 0 currentColor,
      0 4px 0 0 currentColor;
  }
  
  /* Scanline effect */
  .scanlines::before {
    content: "";
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.03) 2px,
      rgba(0, 0, 0, 0.03) 4px
    );
    pointer-events: none;
    z-index: 1;
  }
  
  /* CRT screen effect */
  .crt-effect {
    position: relative;
    overflow: hidden;
  }
  .crt-effect::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(
      rgba(18, 16, 16, 0) 50%,
      rgba(0, 0, 0, 0.25) 50%
    );
    background-size: 100% 2px;
    pointer-events: none;
    animation: flicker 0.15s infinite;
  }
  @keyframes flicker {
    0% {
      opacity: 0.27861;
    }
    5% {
      opacity: 0.34769;
    }
    10% {
      opacity: 0.23604;
    }
    15% {
      opacity: 0.90626;
    }
    20% {
      opacity: 0.18128;
    }
    25% {
      opacity: 0.83891;
    }
    30% {
      opacity: 0.65583;
    }
    35% {
      opacity: 0.67807;
    }
    40% {
      opacity: 0.26559;
    }
    45% {
      opacity: 0.84693;
    }
    50% {
      opacity: 0.96019;
    }
    55% {
      opacity: 0.08594;
    }
    60% {
      opacity: 0.20313;
    }
    65% {
      opacity: 0.71988;
    }
    70% {
      opacity: 0.53455;
    }
    75% {
      opacity: 0.37288;
    }
    80% {
      opacity: 0.71428;
    }
    85% {
      opacity: 0.70419;
    }
    90% {
      opacity: 0.7003;
    }
    95% {
      opacity: 0.36108;
    }
    100% {
      opacity: 0.24387;
    }
  }
}

/* Custom styles */
body {
  @apply bg-paper text-ink font-mono scroll-smooth;
  background-image: 
    radial-gradient(circle at 20% 80%, rgba(4, 0, 5, 0.04) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(4, 0, 5, 0.04) 0%, transparent 50%);
}

.dark body {
  @apply bg-ink text-paper;
  background-image: 
    radial-gradient(circle at 20% 80%, rgba(255, 249, 239, 0.04) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(255, 249, 239, 0.04) 0%, transparent 50%);
}

section {
  @apply py-16 md:py-24;
}

/* Enhanced link styles */
a {
  @apply underline-offset-2 decoration-dotted hover:underline transition-all duration-200;
  position: relative;
}

a:hover {
  @apply decoration-solid decoration-2;
}

/* Enhanced card with retro shadow */
.card {
  @apply border-2 border-ink/20 dark:border-paper/20 p-6 rounded-none relative transition-all duration-300;
  box-shadow: 4px 4px 0 0 rgba(4, 0, 5, 0.2);
}

.dark .card {
  box-shadow: 4px 4px 0 0 rgba(255, 249, 239, 0.2);
}

.card:hover {
  transform: translate(-2px, -2px);
  box-shadow: 6px 6px 0 0 rgba(4, 0, 5, 0.3);
}

.dark .card:hover {
  box-shadow: 6px 6px 0 0 rgba(255, 249, 239, 0.3);
}

/* Button styles */
.btn-retro {
  @apply px-6 py-3 border-2 border-current font-bold uppercase tracking-wider transition-all duration-200 relative overflow-hidden;
  box-shadow: 3px 3px 0 0 currentColor;
}

.btn-retro:hover {
  transform: translate(-2px, -2px);
  box-shadow: 5px 5px 0 0 currentColor;
}

.btn-retro:active {
  transform: translate(0, 0);
  box-shadow: 1px 1px 0 0 currentColor;
}

/* Retro input styles */
.input-retro {
  @apply border-2 border-ink/20 dark:border-paper/20 px-4 py-2 bg-transparent transition-all duration-200;
  box-shadow: inset 2px 2px 0 0 rgba(4, 0, 5, 0.1);
}

.dark .input-retro {
  box-shadow: inset 2px 2px 0 0 rgba(255, 249, 239, 0.1);
}

.input-retro:focus {
  @apply outline-none border-ink dark:border-paper;
  box-shadow: inset 3px 3px 0 0 rgba(4, 0, 5, 0.2);
}

.dark .input-retro:focus {
  box-shadow: inset 3px 3px 0 0 rgba(255, 249, 239, 0.2);
}

/* Text selection */
::selection {
  @apply bg-ink text-paper;
}

.dark ::selection {
  @apply bg-paper text-ink;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  @apply bg-paper dark:bg-ink;
}

::-webkit-scrollbar-thumb {
  @apply bg-ink/20 dark:bg-paper/20;
  border: 2px solid transparent;
  background-clip: padding-box;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-ink/40 dark:bg-paper/40;
}
